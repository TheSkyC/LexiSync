<div align="center">

![GitHub release (latest by date)](https://img.shields.io/github/v/release/TheSkyC/Overwatch-Localizer?style=flat-square)
![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)
![Python Version](https://img.shields.io/badge/Python-3.8%2B-blue?style=flat-square&logo=python)
</div>
  <p align="center"><a href="./README.zh_CN.md">中文</a> | English | <a href="./docs/README.ja.md">日本語</a><br></p>

# Overwatch Localizer

**Overwatch Localizer** is a powerful desktop application designed for Overwatch Workshop creators, mod developers, and professional translators. It offers a complete and efficient localization solution, from intelligent text extraction and AI-assisted translation to data-driven quality assurance, greatly simplifying the multi-language content management process.

This tool not only deeply supports Overwatch's custom code format but also fully complies with industry-standard PO/POT files, making it a versatile localization editing and management platform.

---

## 🚀 Key Features

### Core Translation & Project Management
*   **Intuitive Translation Interface**: Displays source, translation, comments, and status side-by-side, providing real-time context preview.
*   **Translation Memory (TM)**: Supports importing/exporting TM in Excel format, automatically applying matches, and providing fuzzy matching suggestions.
*   **Standard Localization Support**:
    *   **PO/POT Workflow**: Directly create, edit, and manage PO files.
    *   **Version Comparison**: Supports comparing PO files with new POT templates for intelligent merging of old and new content.
*   **Dual Project Modes**:
    *   **Workshop Code Mode**: Directly extracts translatable strings from `.ow` or `.txt` code files and writes translated results back into new code.
    *   **PO File Mode**: Provides an independent PO file editing workflow, with automatic `.mo` file compilation upon saving.
*   **Project Management**: Supports saving/loading project files (`.owproj`), fully preserving your work progress, filtered views, and configurations.
*   **Project Statistics**: Features a detailed project statistics interface, allowing direct identification of problematic items within the statistics view.
*   **Static Sorting**: Supports switching to static sorting mode; manually refresh by pressing `F5`.

### Automation & Smart Assistance
*   **Intelligent String Extraction**: Automatically identifies and extracts translatable strings from code files using customizable regular expressions.
*   **Integrated AI Translation**:
    *   Utilizes large language models (compatible with OpenAI API) for high-quality machine translation.
    *   Supports single-item and batch translation, with context referencing and project-specific instructions to optimize translation accuracy and style.
*   **Quality Assurance (QA)**:
    *   **Built-in Validation System**: Automatically detects common errors in translations, such as placeholder mismatches, inconsistent punctuation, leading/trailing spaces, etc.
    *   **Smart Length Validation**:
        *   Validates translation length using an **expansion ratio model** generated by analyzing professional translation datasets (`Opus-100`).
        *   Provides precise warnings when translation length deviates significantly from industry benchmarks.

### Highly Customizable
*   **Custom Extraction Rules**: Manage string extraction rules via a graphical interface to adapt to various code formats.
*   **Custom AI Prompts**: Fine-tune AI translation behavior, tone, and terminology.
*   **Custom Keybindings**: Set personalized hotkeys for frequently used functions according to your operating habits.
*   **Custom Fonts**: Specify display fonts for different languages (e.g., Latin, CJK, Cyrillic) in settings to ensure optimal visual presentation of globalized text.

## 🛠️ Custom Configuration
Application configurations are stored in the `localization_tool_config.json` file. You can easily configure them via the application's UI:
*   **AI Translation Settings**: `Tools(T) > AI Translation Settings...`
*   **Extraction Rules Manager**: `Tools(T) > Extraction Rules Manager...`
*   **Keybinding Settings**: `Settings(S) > Keybinding Settings...`
*   **Font Settings**: `Settings(S) > Font Settings...`

## 📥 Download
You can download the latest version from the **[GitHub Releases](https://github.com/TheSkyC/overwatch-localizer/releases/latest)** page.

[![GitHub release (latest by date)](https://img.shields.io/github/v/release/TheSkyC/Overwatch-Localizer?style=for-the-badge)](https://github.com/TheSkyC/overwatch-localizer/releases/latest)

## 📸 Screenshots
*Main Interface*
![QQ20250709-173104](https://github.com/user-attachments/assets/5d472d9e-6fe8-4d8d-b444-31f81d649f3a)

<details>
<summary><b>► Click to view more screenshots</b></summary>

*Custom Configuration*

![image](https://github.com/user-attachments/assets/b3e278db-6b0d-4288-8ce4-4e84f4998035)

*Project Statistics, Language Pair Settings*

![image](https://github.com/user-attachments/assets/5fa82ae5-03e6-408b-9010-2f0b0503482f)
![image](https://github.com/user-attachments/assets/0c985437-8c38-414b-a990-0d8b37040ae8)
</details>


## 🛠️ Development Environment Setup

### Prerequisites
*   Python 3.8 or higher
*   Git (optional, for cloning the repository)

### Steps
1.  **Clone the repository (or download ZIP)**
    ```bash
    git clone https://github.com/TheSkyC/Overwatch-Localizer.git
    cd Overwatch-Localizer
    ```

2.  **Create and activate a virtual environment (recommended)**
    ```bash
    python -m venv venv
    # Windows
    .\venv\Scripts\activate
    # macOS/Linux
    source venv/bin/activate
    ```

3.  **Install dependencies**
    ```bash
    pip install -r requirements.txt
    ```

## 🚀 Usage
1.  **Launch the application**
    ```bash
    python main.py
    ```
2.  **Basic Workflow**
    *   **First Use**: Select your preferred working language pair via `Settings(S) > Language Pair Settings...`.
    *   **Workshop Code Workflow**:
        1.  Open/drag and drop `.ow` / `.txt` code files. The application will automatically detect the source language.
        2.  Translate in the right-side editor, use `Ctrl+Enter` to apply and jump to the next item.
        3.  Click `File(F) > Save` to save the `.owproj` project.
        4.  After completion, click `File(F) > Save Translation to New Code File` to generate the translated code.

    *   **PO File Workflow**:
        1.  Open a `.po` file. The application will automatically detect the language and load context.
        2.  Translate and review. Items marked as `fuzzy` will be highlighted with a light yellow background.
        3.  To update, click `File(F) > Compare Versions/Import New Code...` and select a new `.pot` file for merging.
        4.  After completion, click `File(F) > Save` to save the `.po` file. If enabled in settings, the `.mo` file will be compiled automatically.

3.  **AI Translation & Quality Assurance**
    *   Configure API settings in `Tools(T) > AI Translation Settings...`.
    *   Select an item, then use the right-click context menu or hotkeys for AI translation.

## 🌐 Supported Languages
This tool supports translation for any language and provides localized UI interfaces for the following languages:
*   **English** (`en_US`)
*   **简体中文** (`zh_CN`)
*   **日本語** (`ja_JP`)
*   **한국어** (`ko_KR`)
*   **le français** (`fr_FR`)
*   **Deutsch** (`de_DE`)
*   **русский язык** (`ru_RU`)
*   **español (España)** (`es_ES`)
*   **italiano** (`it_IT`)

## 🤝 Contribution
Contributions of any kind are welcome! If you have any questions, feature suggestions, or find bugs, please feel free to submit them via GitHub Issues.

## 📄 License
This project is open-sourced under [Apache 2.0](LICENSE), allowing free use, modification, and distribution, provided the copyright notice is retained.

## 📞 Contact
- Author: TheSkyC
- Email: 0x4fe6@gmail.com
- ASIA Server ID: 小鳥游六花#31665

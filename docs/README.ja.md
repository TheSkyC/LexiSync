<div align="center">

![GitHub release (latest by date)](https://img.shields.io/github/v/release/TheSkyC/Overwatch-Localizer?style=flat-square)
![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)
![Python Version](https://img.shields.io/badge/Python-3.8%2B-blue?style=flat-square&logo=python)
</div>
  <p align="center"><a href="./README.md">中文</a> | <a href="./docs/README.en.md">English</a> | 日本語<br></p>

# Overwatch Localizer

**Overwatch Localizer** は、『オーバーウォッチ』のワークショップクリエイター、MOD開発者、そしてプロの翻訳者向けに設計された、高機能なデスクトップアプリケーションです。テキストのインテリジェントな抽出から、AIによる翻訳支援、データ駆動型の品質保証まで、多言語コンテンツの管理プロセスを大幅に簡素化する、包括的で効率的なローカライズソリューションを提供します。

本ツールは、『オーバーウォッチ』のカスタムコード形式に深く対応しているだけでなく、業界標準の PO/POT ファイルとも完全に互換性があり、汎用的なローカライズ編集・管理プラットフォームとして機能します。

---

## 🚀 主な機能

### コア翻訳とプロジェクト管理
*   **直感的な翻訳インターフェース**：原文、訳文、コメント、ステータスを並べて表示し、リアルタイムのコンテキストプレビューを提供します。
*   **翻訳メモリ (TM)**：Excel形式の翻訳メモリのインポート/エクスポートに対応しており、自動マッチングやあいまい一致の提案機能を提供します。
*   **標準ローカライズ対応**:
    *   **PO/POT ワークフロー**：POファイルを直接作成、編集、管理できます。
    *   **バージョン比較**：POファイルを新しいPOTテンプレートと比較し、新旧コンテンツをインテリジェントにマージする機能をサポートします。
*   **デュアルプロジェクトモード**：
    *   **ワークショップコードモード**：.ow または .txt コードファイルから翻訳可能な文字列を直接抽出し、翻訳結果を新しいコードに書き戻します。
    *   **POファイルモード**：独立したPOファイル編集ワークフローを提供し、保存時に自動で .mo ファイルをコンパイルできます。
*   **プロジェクト管理**：プロジェクトファイル (.owproj) の保存/読み込みに対応しており、作業の進行状況や設定、構成を完全に保持します。
*   **プロジェクト統計**：詳細なプロジェクト統計インターフェースを備え、統計画面から直接問題のある項目を特定できます。
*   **静的ソート**：静的ソートモードへの切り替えに対応しており、`F5` キーで手動更新が可能です。

### 自動化とスマートアシスト
*   **インテリジェントな文字列抽出**：カスタマイズ可能な正規表現により、コードファイルから翻訳可能な文字列を自動で識別・抽出します。
*   **AI翻訳の統合**：
    *   OpenAI API互換の大規模言語モデルを呼び出し、高品質な機械翻訳を実現します。
    *   単一項目翻訳とバッチ翻訳に対応し、コンテキスト参照やプロジェクト固有の指示により、翻訳の精度とスタイルを最適化します。
*   **品質保証 (QA)**：
    *   **組み込み検証システム**：翻訳における一般的なエラー（プレースホルダーの不一致、句読点の不一致、先頭/末尾のスペースなど）を自動で検出します。
    *   **スマートな長さ検証**：
        *   プロの翻訳データセット（`Opus-100`）の分析から生成された**膨張率モデル**を用いて検証します。
        *   翻訳の長さが業界標準から著しく逸脱している場合に、正確な警告を提供します。

### 高度なカスタマイズ性
*   **カスタム抽出ルール**：グラフィカルインターフェースを通じて文字列抽出ルールを管理し、様々なコード形式に対応させることができます。
*   **カスタムAIプロンプト**：AI翻訳の動作、トーン、専門用語を細かく制御できます。
*   **カスタムショートカット**：操作習慣に合わせて、よく使う機能に専用のショートカットを設定できます。
*   **カスタムフォント**：設定で異なる言語（ラテン文字、CJK、キリル文字など）の表示フォントを指定し、多言語テキストの最適な視覚効果を保証します。

## 🛠️ カスタム設定
アプリケーションの設定は `localization_tool_config.json` ファイルに保存されます。アプリケーションのUIを通じて簡単に設定できます：
*   **AI翻訳設定**：`ツール(T) > AI翻訳設定...`
*   **抽出ルールマネージャー**：`ツール(T) > 抽出ルールマネージャー...`
*   **ショートカット設定**：`設定(S) > ショートカット設定...`
*   **フォント設定**：`設定(S) > フォント設定...`

## 📥 ダウンロード
最新バージョンは **[GitHub Releases](https://github.com/TheSkyC/overwatch-localizer/releases/latest)** ページからダウンロードできます。

[![GitHub release (latest by date)](https://img.shields.io/github/v/release/TheSkyC/Overwatch-Localizer?style=for-the-badge)](https://github.com/TheSkyC/overwatch-localizer/releases/latest)

## 📸 スクリーンショット
*メインインターフェース*
![image](https://github.com/user-attachments/assets/d068aaa5-7447-499c-9ffe-2f8e5b137296)

<details>
<summary><b>► その他のスクリーンショットを見るにはクリック</b></summary>

*カスタム設定*

![image](https://github.com/user-attachments/assets/b3e278db-6b0d-4288-8ce4-4e84f4998035)

*プロジェクト統計、言語ペア設定*

![image](https://github.com/user-attachments/assets/5fa82ae5-03e6-408b-9010-2f0b0503482f)
![image](https://github.com/user-attachments/assets/0c985437-8c38-414b-a990-0d8b37040ae8)
</details>


## 🛠️ 開発環境のセットアップ

### 前提条件
*   Python 3.8 以降
*   Git (任意、リポジトリのクローン用)

### 手順
1.  **リポジトリのクローン (またはZIPのダウンロード)**
    ```bash
    git clone https://github.com/TheSkyC/Overwatch-Localizer.git
    cd Overwatch-Localizer
    ```

2.  **仮想環境の作成とアクティベート (推奨)**
    ```bash
    python -m venv venv
    # Windows
    .\venv\Scripts\activate
    # macOS/Linux
    source venv/bin/activate
    ```

3.  **依存関係のインストール**
    ```bash
    pip install -r requirements.txt
    ```

## 🚀 使用方法
1.  **アプリケーションの起動**
    ```bash
    python main.py
    ```
2.  **基本的なワークフロー**
    *   **初回使用時**：`設定(S) > 言語ペア設定...` から、よく使う作業言語ペアを選択します。
    *   **ワークショップコードワークフロー**：
        1.  .ow / .txt コードファイルを開くか、ドラッグ＆ドロップします。アプリケーションが自動でソース言語を検出します。
        2.  右側の編集ボックスで翻訳を行い、`Ctrl+Enter` で適用し次の項目へ移動します。
        3.  `ファイル(F) > 保存` をクリックして .owproj プロジェクトを保存します。
        4.  完了後、`ファイル(F) > 翻訳を新しいコードファイルに保存` をクリックして翻訳済みコードを生成します。

    *   **POファイルワークフロー**：
        1.  .po ファイルを開きます。アプリケーションが自動で言語を検出し、コンテキストを読み込みます。
        2.  翻訳とレビューを行います。`fuzzy` フラグが付いた項目は、薄い黄色の背景で自動的にハイライトされます。
        3.  更新が必要な場合は、`ファイル(F) > バージョン比較/新しいコードをインポート...` をクリックし、新しい .pot ファイルを選択してマージします。
        4.  完了後、`ファイル(F) > 保存` をクリックして .po ファイルを保存します。設定で有効になっている場合、.mo ファイルが自動でコンパイルされます。

3.  **AI翻訳と品質保証**
    *   `ツール(T) > AI翻訳設定...` でAPIを設定します。
    *   項目を選択後、右クリックメニューまたはショートカットを使用してAI翻訳を実行します。

## 🌐 対応言語
本ツールは任意の言語の翻訳に対応しており、以下の言語のUIを提供しています：
*   **English** (`en_US`)
*   **簡体中文** (`zh_CN`)
*   **日本語** (`ja_JP`)
*   **한국어** (`ko_KR`)
*   **le français** (`fr_FR`)
*   **Deutsch** (`de_DE`)
*   **русский язык** (`ru_RU`)
*   **español (España)** (`es_ES`)
*   **italiano** (`it_IT`)

## 🤝 貢献
あらゆる貢献を歓迎します！ご質問、機能の提案、またはバグの発見がありましたら、お気軽にGitHub Issuesにご提出ください。

## 📄 ライセンス
本プロジェクトは [Apache 2.0](LICENSE) ライセンスに基づいてオープンソース化されており、著作権表示を保持する限り、自由な使用、変更、配布が許可されています。

## 📞 お問い合わせ
- 著者：骰子擲上帝 (TheSkyC)
- メール：0x4fe6@gmail.com
- 中国サーバーID：小鸟游六花#56683
- アジアサーバーID：小鳥游六花#31665
